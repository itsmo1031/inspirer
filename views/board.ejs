<!DOCTYPE html>
<html>
<head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css'/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<div>
<table>
    <% if(contents.length > 0){ %>
    <% var i = 0; %>
    <% contents.forEach(function(item){ %>
    <% i++; %>
    <tr>
        <td class="number"><%= i %></td>
        <td class="title"><a href="/board/detail?id=<%= item._id %>"><%= item.title %></a></td>
        <td class="writer"><%= item.writer %></td>
        <td class="date"><%= dateFormatChange(item.date) %></td>
        <td class="cnt"><%= item.count %></td>
    </tr>
    <% }) %>
    <% } else { %>
    <tr>
        <td colspan="5">게시물이 없습니다.</td>
    </tr>
</table>
</div>
<% } %>
<br>
<button type="button" class="btn btn-primary" onclick="location.href='./write/'">Write</button>
</body>
<%
function dateFormatChange(date) {
    var options = {
        weekday: "short", year: "numeric", month: "short",
        day: "numeric", hour: "2-digit", minute: "2-digit"
    };
    return date.toLocaleTimeString("ko-KR", options);
}
%>
</html>